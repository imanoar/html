/* ======================================================= 
 * Auto Albums - Multi Level Responsive Grid
 * By David Blanco
 *
 * Contact: http://codecanyon.net/user/davidbo90
 *
 * Created: July 23, 2013
 *
 * Copyright (c) 2013, David Blanco. All rights reserved.
 * Released under CodeCanyon License http://codecanyon.net/
 *
 * Note: Script based in jQuery Masonry v2.1.07 made by David DeSandro http://masonry.desandro.com/ (under MIT)
 *
 * ======================================================= */

 (function(d){var f,c,k,g=30,j=75,i=10,l=1000;if("ontouchend" in document){f="touchend.cj_swp";c="touchmove.cj_swp";k="touchstart.cj_swp"}else{f="mouseup.cj_swp";c="mousemove.cj_swp";k="mousedown.cj_swp"}d.fn.touchSwipe=function(n,o){if(o){this.data("stopPropagation",true)}if(n){return this.each(m,[n])}};d.fn.touchSwipeLeft=function(n,o){if(o){this.data("stopPropagation",true)}if(n){return this.each(e,[n])}};d.fn.touchSwipeRight=function(n,o){if(o){this.data("stopPropagation",true)}if(n){return this.each(b,[n])}};function m(n){d(this).touchSwipeLeft(n).touchSwipeRight(n)}function e(n){var o=d(this);if(!o.data("swipeLeft")){o.data("swipeLeft",n)}if(!o.data("swipeRight")){h(o)}}function b(n){var o=d(this);if(!o.data("swipeRight")){o.data("swipeRight",n)}if(!o.data("swipeLeft")){h(o)}}d.fn.unbindSwipeLeft=function(){this.removeData("swipeLeft");if(!this.data("swipeRight")){this.unbindSwipe(true)}};d.fn.unbindSwipeRight=function(){this.removeData("swipeRight");if(!this.data("swipeLeft")){this.unbindSwipe(true)}};d.fn.unbindSwipe=function(n){if(!n){this.removeData("swipeLeft swipeRight stopPropagation")}return this.unbind(k+" "+c+" "+f)};function h(n){n.unbindSwipe(true).bind(k,a)}function a(n){var o=new Date().getTime(),r=n.originalEvent.touches?n.originalEvent.touches[0]:n,u=d(this).bind(c,s).one(f,x),q=r.pageX,p=r.pageY,v,t,w;if(u.data("stopPropagation")){n.stopImmediatePropagation()}function x(y){u.unbind(c);if(o&&w){if(w-o<l&&Math.abs(q-v)>g&&Math.abs(p-t)<j){if(q>v){if(u.data("swipeLeft")){u.data("swipeLeft")("left")}}else{if(u.data("swipeRight")){u.data("swipeRight")("right")}}}}o=w=null}function s(y){if(o){r=y.originalEvent.touches?y.originalEvent.touches[0]:y;w=new Date().getTime();v=r.pageX;t=r.pageY;if(Math.abs(q-v)>i){y.preventDefault()}}}}})(jQuery);(function(e,f,g){var b=f.event,a=f.event.handle?"handle":"dispatch",d;b.special.smartresize={setup:function(){f(this).bind("resize",b.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",b.special.smartresize.handler)},handler:function(k,h){var j=this,i=arguments;k.type="smartresize";if(d){clearTimeout(d)}d=setTimeout(function(){b[a].apply(j,i)},h==="execAsap"?0:100)}};f.fn.smartresize=function(h){return h?this.bind("smartresize",h):this.trigger("smartresize",["execAsap"])};f.AutoAlbumsMasonry=function(h,i){this.element=f(i);this._create(h);this._init()};f.AutoAlbumsMasonry.settings={isResizable:true,isAnimated:false,animationOptions:{queue:false,duration:500,complete:function(){var h=f(this);if(!h.hasClass("autoAlbums-brick")){if(f.fn.autoAlbums.defaults.lazyLoad){f.waypoints("refresh")}if(h.hasClass("grid-with-loading-boxes")){h.removeClass("grid-with-loading-boxes");h.addClass("completeAddingImages")}}}},gutterWidth:0,isRTL:false,isFitWidth:false,containerStyle:{position:"relative"}};f.AutoAlbumsMasonry.prototype={_resized:false,_filterFindBricks:function(i){var h=this.options.itemSelector;return !h?i:i.filter(h).add(i.find(h))},_getBricks:function(i){var h=this._filterFindBricks(i).css({position:"absolute"}).addClass("autoAlbums-brick");return h},_create:function(k){this.options=f.extend(true,{},f.AutoAlbumsMasonry.settings,k);this.styleQueue=[];var j=this.element[0].style;this.originalStyle={height:j.height||""};var l=this.options.containerStyle;for(var n in l){this.originalStyle[n]=j[n]||""}this.element.css(l);this.horizontalDirection=this.options.isRTL?"right":"left";var i=this.element.css("padding-"+this.horizontalDirection);var m=this.element.css("padding-top");this.offset={x:i?parseInt(i,10):0,y:m?parseInt(m,10):0};this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth==="function";var h=this;setTimeout(function(){h.element.addClass("autoAlbums")},0);if(this.options.isResizable){f(e).bind("smartresize.autoAlbums",function(){h.resize()})}this.reloadItems()},_init:function(h){this._getColumns();this._reLayout(h)},option:function(h,i){if(f.isPlainObject(h)){this.options=f.extend(true,this.options,h)}},layout:function(s,w){for(var p=0,q=s.length;p<q;p++){this._placeBrick(s[p])}var h={};h.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var n=0;p=this.cols;while(--p){if(this.colYs[p]!==0){break}n++}h.width=(this.cols-n)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:h});var j=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css"),m=this.options.animationOptions;var o;var l=false;for(p=0,q=this.styleQueue.length;p<q;p++){o=this.styleQueue[p];j=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css");var r=o.$el.hasClass("loading-box");if(r&&!this.element.hasClass("noSupportTransform")){j="css";l=true}else{if(l){o.$el.css(o.style,m)}}o.$el.removeClass("loading-box");var k=o.$el.css("left");var u=o.$el.css("top");var v=o.style.left+"px";var t=o.style.top+"px";if((k==v&&u==t)||r==true){o.$el.data("moving",false)}else{o.$el.data("moving",true)}o.$el[j](o.style,m)}this.styleQueue=[];if(w){w.call(s)}this.isLaidOut=true},_getColumns:function(){var h=this.options.isFitWidth?this.element.parent():this.element,i=h.width();this.columnWidth=this.isFluid?this.options.columnWidth(i):this.options.columnWidth||this.$bricks.outerWidth(true)||i;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((i+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},_placeBrick:function(q){var o=f(q),s,w,l,u,m;s=Math.ceil(o.outerWidth(true)/this.columnWidth);s=Math.min(s,this.cols);if(s===1){l=this.colYs}else{w=this.cols+1-s;l=[];for(m=0;m<w;m++){u=this.colYs.slice(m,m+s);l[m]=Math.max.apply(Math,u)}}var h=Math.min.apply(Math,l),v=0;for(var n=0,r=l.length;n<r;n++){if(l[n]===h){v=n;break}}var p={top:h+this.offset.y};p[this.horizontalDirection]=this.columnWidth*v+this.offset.x;this.styleQueue.push({$el:o,style:p});var t=h+o.outerHeight(true),k=this.cols+1-r;for(n=0;n<k;n++){this.colYs[v+n]=t}},resize:function(){var h=this.cols;this._getColumns();if(this.isFluid||this.cols!==h){this._reLayout()}},_reLayout:function(j){var h=this.cols;this.colYs=[];while(h--){this.colYs.push(0)}this.layout(this.$bricks,j)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(h){this.reloadItems();this._init(h)},appended:function(i,j,k){if(j){this._filterFindBricks(i).css({top:this.element.height()});var h=this;setTimeout(function(){h._appended(i,k)},1)}else{this._appended(i,k)}},_appended:function(h,j){var i=this._getBricks(h);this.$bricks=this.$bricks.add(i);this.layout(i,j)},remove:function(h){this.$bricks=this.$bricks.not(h);h.remove()},destroy:function(){this.$bricks.removeClass("autoAlbums-brick").each(function(){this.style.position="";this.style.top="";this.style.left=""});var h=this.element[0].style;for(var i in this.originalStyle){h[i]=this.originalStyle[i]}this.element.unbind(".autoAlbums").removeClass("autoAlbums").removeData("autoAlbums");f(e).unbind(".autoAlbums")}};
/*!
   * jQuery imagesLoaded plugin v1.1.0
   * http://github.com/desandro/imagesloaded
   *
   * MIT License. by Paul Irish et al.
   */
;f.fn.imagesLoaded=function(o){var m=this,k=m.find("img").add(m.filter("img")),h=k.length,n="#",j=[];function l(){o.call(m,k)}function i(q){var p=q.target;if(p.src!==n&&f.inArray(p,j)===-1){j.push(p);if(--h<=0){setTimeout(l);k.unbind(".imagesLoaded",i)}}}if(!h){l()}k.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var p=this.src;this.src=n;this.src=p});return m};var c=function(h){if(e.console){e.console.error(h)}};f.fn.autoAlbums=function(j){var h=function(A){var J=f.extend({},f.fn.autoAlbums.defaults,j);f.fn.autoAlbums.defaults.lazyLoad=j.lazyLoad;if(j==g){j={}}j.isFitWidth=J.isFitWidth;j.isAnimated=J.isAnimated;j.itemSelector=".aamrgbox";j.gutterWidth=J.horizontalSpaceBetweenThumbnails;var u=f(A).addClass("centered").addClass("autoAlbums-clearfix");var O=J.columnWidth;if(O=="auto"){j.columnWidth=function(aB){var aC=-999;for(var aA=J.columns;aA>=1;aA--){if(aC<J.columnMinWidth){aC=(((aB-(aA-1)*j.gutterWidth)/aA)|0)}}u.find("div.aamrgbox").width(aC);return aC}}else{if((typeof O)!="function"){j.columnWidth=function(aA){var aB=O;u.find("div.aamrgbox").width(aB);return aB}}}u.find("div.aamrgbox").css("margin-bottom",J.verticalSpaceBetweenThumbnails);var ah=(function(){var aC=document.createElement("div"),aB="Khtml ms O Moz Webkit".split(" "),aA=aB.length;return function(aD){if(aD in aC.style){return true}aD=aD.replace(/^[a-z]/,function(aE){return aE.toUpperCase()});while(aA--){if(aB[aA]+aD in aC.style){return true}}return false}})();if(!ah("transform")){u.addClass("noSupportTransform")}else{u.addClass("visible")}var R=null;var au=u.data("directory");var ay=u.data("path");var D=u.data("site");var at=f("<div />").insertAfter(u);var N=function(){at.addClass("autoAlbums-loader").removeClass("autoAlbums-loadMore").html("")};var Y=function(){at.removeClass("autoAlbums-loader")};var T=false;var r=function(){var aB=0;for(var aC in R){var aA=R[aC];aB++}if(aB>0){T=false;return true}else{return false}};var w=function(aA){if(aA){at.addClass("autoAlbums-loadMore").html("LOAD MORE")}else{at.removeClass("autoAlbums-loadMore").html("")}};var F=au;var v=F;var p=location.hash.substr(1);if(p!=""&&J.hashTag&&p!="*"){F+="/"+p;au+="/"+p}var y=function(aA){if(aA.substr(1,1)=="-"){return aA.substr(2)}else{return aA}};var I=function(aE,aB){var aD="";if(aB=="yes"){aD="thumbnails/"}var aH=aE.split(/\.(?=[^.]*$)/)[0];var aC="";if(aH.indexOf("$$")!=-1){var aA=aH.split("$$");aH=aA[0];var aG=aA[1].split(":").join("/");aG=aG.split("|").join("/");aC='data-url="'+aG+'"'}aH=y(aH);var aF='<div class="aamrgbox" '+aC+'><img src="'+ay+F+"/"+aD+aE+'" data-lightbox="'+ay+F+"/"+aE+'" /><div class="autoAlbums-image-caption"><h4>'+aH+'</h4></div><div class="lightbox-text">'+aH+"</div></div>";return aF};var ap=function(aB,aI,aE){var aH="";if(aE.thumb=="yes"){aH="thumbnails/"}var aD=y(aB);var aC='<i class="icon-folder-open icon-white" style="margin-right:5px;"></i>'+aE.numFolders;var aG='<i class="icon-picture icon-white" style="margin:0 5px 0 5px;"></i>'+aE.numImages;if(!J.showNumFolder){aC=""}if(!J.showNumImages){aG=""}if(J.autoHideNumFolder&&aE.numFolders==0){aC=""}if(J.autoHideNumImages&&aE.numImages==0){aG=""}var aA="";if(aE.numImages==0&&aI==""){aA='style="height:200px"'}var aF='<div class="aamrgbox autoAlbumsFolder" data-folder="'+aB+'" '+aA+'><img src="'+ay+F+"/"+aB+"/"+aH+aI+'" /><div class="gradient-container"><div class="folder-info"><div class="folder-name">'+aD+'</div><div class="folder-view"><span>View gallery</span></div><div class="folder-count">'+aC+aG+"</div></div></div></div>";return aF};var aj=function(aA){aA.each(function(){var aB=f(this).removeClass("noTransform");if(aB.hasClass("autoAlbums-brick")){if(aB.is(":hidden")){if(u.hasClass("noSupportTransform")){aB.show()}else{aB.show();if(aB.data("moving")==false){aB.animate(J.hiddenStyle,0);aB.animate(J.visibleStyle,j.animOpts,function(){aB.addClass("noTransform")})}else{aB.animate(J.visibleStyle,0);aB.addClass("noTransform")}}}else{aB.animate(J.visibleStyle,j.animOpts,function(){aB.addClass("noTransform")})}}})};var k=function(aA){aA=f(aA).addClass("loading-box");aA.css("margin-bottom",J.verticalSpaceBetweenThumbnails);u.append(aA.hide());u.imagesLoaded(function(){aA.hide().css({top:200,left:200});u.addClass("grid-with-loading-boxes");u.autoAlbums("reload");aj(aA);Y();w(r());T=false})};var s=function(aB){N();var aH=new Array();if(J.foldersAtTop){for(var aI in R){if(typeof R[aI]=="string"){}else{aH.push({image:aI,thumb:R[aI],folder:"yes"})}}for(var aI in R){if(typeof R[aI]=="string"){aH.push({image:aI,thumb:R[aI],folder:"no"})}else{}}}else{for(var aI in R){var aA="yes";if(typeof R[aI]=="string"){aA="no"}aH.push({image:aI,thumb:R[aI],folder:aA})}}var aF="";var aG=0;while(aG<aB){if(aG>=aH.length){break}var aE=aH[aG];var aC=aE.image.split(/\.(?=[^.]*$)/)[0];if(aC!="folderCover"){if(aE.folder=="yes"){var aD=aE.thumb.image;aF+=ap(aE.image,aD,aE.thumb)}else{aF+=I(aE.image,aE.thumb)}}delete R[aE.image];aG++}k(aF)};var ar=function(){if(at.hasClass("autoAlbums-loadMore")){s(J.imagesToLoad)}};at.on("click",function(){ar()});if(J.lazyLoad){u.waypoint(function(aB){var aA=f(this);if(aA.hasClass("completeAddingImages")){aA.removeClass("completeAddingImages");if(at.hasClass("autoAlbums-loadMore")){ar()}}},{context:e,continuous:true,enabled:true,horizontal:false,offset:"bottom-in-view",triggerOnce:false})}var z=f('<ul class="autoAlbums-breadcrumb autoAlbums-clearfix"></ul>');if(J.showNavBar){z.insertBefore(u)}var n=function(){var aC=F.split("/");var aB="";var aF="";var aA="";var aD="";for(var aE=0;aE<aC.length;aE++){if(aF==""){aF+=aC[aE]}else{aF+="/"+aC[aE]}var aG=y(aC[aE]);if(aA==""){if(aF!=v){continue}else{aA="found it"}}if(aF!=v){aD+="/"+aC[aE]}if(aE==aC.length-1){aB+='<li data-directory="'+aF+'" class="active">'+aG+"</li>"}else{aB+='<li data-directory="'+aF+'"><a>'+aG+'</a><span class="divider">/</span></li>'}}if(J.hashTag&&aD.substr(1)!=""){location.hash=aD.substr(1)}else{if(J.hashTag&&aD.substr(1)==""){location.hash="*"}}z.html(aB)};n();var av=function(){u.find(".aamrgbox").remove().end().css("height",0);at.removeClass("autoAlbums-loadMore").html("");n();N();f.getJSON(ay+"reader.php?directory="+F+"&albumsOrder="+J.albumsOrder+"&imagesOrder="+J.imagesOrder+"&folderCoverRandom="+J.folderCoverRandom,function(aA){R=aA;s(J.imagesToLoadStart)})};z.on("click","a",function(){F=f(this).parent("li").data("directory");av()});u.on("click","div.autoAlbumsFolder",function(){var aA=f(this).data("folder");F+="/"+aA;av()});N();f.getJSON(ay+"reader.php?directory="+au+"&albumsOrder="+J.albumsOrder+"&imagesOrder="+J.imagesOrder+"&folderCoverRandom="+J.folderCoverRandom,function(aA){R=aA;s(J.imagesToLoadStart)});u.on("mouseenter.hoverdir, mouseleave.hoverdir","div.aamrgbox",function(aF){if(!J.caption){return}var aD=f(this),aE=aF.type,aC=aD.find("div.autoAlbums-image-caption"),aG=m(aD,{x:aF.pageX,y:aF.pageY}),aB=an(aG,aD);var aH=aC.children("div.aligment");if(aH[0]==g){var aA=aC.html();aC.html("<div class='aligment'><div class='aligment'>"+aA+"</div></div>")}if(aE==="mouseenter"){if(J.captionType=="classic"){aC.css({left:0,top:0});aC.fadeIn(300);return}aC.css({left:aB.from,top:aB.to});aC.stop().show().fadeTo(0,1,function(){f(this).stop().animate({top:0,left:0},200,"linear")})}else{if(J.captionType=="classic"){aC.css({left:0,top:0});aC.fadeOut(300);return}if(J.captionType=="grid-fade"){aC.fadeOut(700)}else{aC.stop().animate({left:aB.from,top:aB.to},200,"linear",function(){aC.hide()})}}});var m=function(aC,aF){var aB=aC.width(),aD=aC.height(),aA=(aF.x-aC.offset().left-(aB/2))*(aB>aD?(aD/aB):1),aG=(aF.y-aC.offset().top-(aD/2))*(aD>aB?(aB/aD):1),aE=Math.round((((Math.atan2(aG,aA)*(180/Math.PI))+180)/90)+3)%4;return aE};var an=function(aC,aB){var aD,aA;switch(aC){case 0:if(!J.reverse){aD=0,aA=-aB.height()}else{aD=0,aA=-aB.height()}break;case 1:if(!J.reverse){aD=aB.width(),aA=0}else{aD=-aB.width(),aA=0}break;case 2:if(!J.reverse){aD=0,aA=aB.height()}else{aD=0,aA=-aB.height()}break;case 3:if(!J.reverse){aD=-aB.width(),aA=0}else{aD=aB.width(),aA=0}break}return{from:aD,to:aA}};var ab=f("body");var al={interval:"none"};var q=0;var U=f('<div class="autoAlbums-lightbox" />').appendTo(ab);var aa=f('<div class="autoAlbums-nav" />').appendTo(U);var ad=f('<div class="autoAlbums-close" />').appendTo(aa);var X=f('<i class="autoAlbums-iconClose" />').appendTo(ad);var C=f('<div class="autoAlbums-play" />');if(J.lightboxPlayBtn){C.appendTo(aa)}var K=f('<i class="autoAlbums-iconPlay" />').appendTo(C);var ai=f('<div class="autoAlbums-lbcaption" />').appendTo(aa).html("Here will go the text for the lightbox");var ao=f('<div class="autoAlbums-next" />').appendTo(aa);var ax=f('<i class="autoAlbums-iconNext" />').appendTo(ao);var H=f('<div class="autoAlbums-prev" />').appendTo(aa);var M=f('<i class="autoAlbums-iconPrev" />').appendTo(H);var ag=f('<div class="autoAlbums-social" />').appendTo(aa);var af=f('<div class="autoAlbums-lightbox-timer" />').appendTo(U);var t=ad.width();var ac=3;if(J.lightboxPlayBtn){ac=4}var l=function(){var aC=U.outerWidth();if(aC<650){ai.hide();ao.css("width",(aC/ac));H.css("width",(aC/ac));C.css("width",(aC/ac));ad.css("width",aC-((aC/ac)*(ac-1)))}else{ai.show();ao.css("width",t);H.css("width",t);C.css("width",t);ad.css("width",t)}var aA=U.find("img");var aB=U.outerHeight()-aa.outerHeight();aA.css("max-height",aB)};jQuery(e).resize(function(){l()});var W=new Image();var Z=function(){W.onload=null;W=null;U.find(".lightbox-alignment").remove();U.find(".lightbox-alignment2").remove();U.find("img").remove()};var Q=function(){U.find(".lb-loader").remove()};var G=function(){U.append('<div class="lb-loader"/>')};U.attr("unselectable","on").css("user-select","none").on("selectstart",false);var P=function(){af.stop(true,true).width(0)};var aw=function(){clearInterval(al.interval)};var E=function(){if(J.lightBoxShowTimer==false){return}af.css({position:"absolute",bottom:0}).animate({width:"100%"},J.lightBoxPlayInterval,"linear",function(){P()})};var az=false;var ae=false;var S=function(){al.interval=setTimeout(function(){o()},J.lightBoxPlayInterval);E()};var B=function(){if(az&&ae==false){P();aw();S()}};var am=f("<span />");var L=function(aI,aB){Z();Q();G();var aG=0;var aH=0;if(aB!=true){aG=0.9;aH=J.lightBoxSpeedFx}if(J.lightBoxZoomAnim==false){aG=1}var aC=aI;var aD=aC.data("lightbox");if(aD==g){aD=aC.attr("src")}var aL=aC.siblings("div.lightbox-text").html();if(J.lightBoxText==false){aL=""}var aE=aL.split("<span>")[0];var aF="<div class='aa-social-container'>";if(J.fb!=g){aF+="<div class='aa-fb' data-url='"+D+aD+"' data-name='"+aE+"' ></div>"}if(J.twitter!=g){aF+="<div class='aa-tw' data-url='"+D+aD+"' data-name='"+aE+"' ></div>"}if(J.googlePlus!=g){aF+="<div class='aa-gp' data-url='"+D+aD+"' data-name='"+aE+"' ></div>"}if(J.pintrest!=g){aF+="<div class='aa-pi'data-url='"+D+aD+"' data-name='"+aE+"' ></div>"}aF+="</div>";ag.html("<div><div>"+aF+"</div></div>");var aK="<div><div>"+aL+"</div></div>";ai.html(aK);W=new Image();var aA=f(W);var aJ=W;W.onload=function(){if(aJ!=W){return}Q();var aN=f('<div class="lightbox-alignment"></div>').appendTo(U);var aM=f('<div class="lightbox-alignment2"></div>').appendTo(aN);aM.append(aA.css("margin-top",-aa.outerHeight()).hide().scale(aG));aA.fadeIn(aH).animate({scale:"1"},{duration:J.lightBoxSpeedFx,complete:function(){B()}});l()};W.src=aD;am.stop(true);am=f(W)};var x=function(aB){var aA=e.open(aB,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400");aA.moveTo((screen.width/2)-(300),(screen.height/2)-(200))};aa.on("click","div.aa-fb",function(){var aB=f(this);var aA=encodeURI(aB.data("url"));aA="https://www.facebook.com/sharer/sharer.php?u="+aA;x(aA)});aa.on("click","div.aa-tw",function(){var aB=f(this);var aA=encodeURI(aB.data("url"));aA="https://twitter.com/intent/tweet?url=&text="+encodeURI(aB.data("name"))+" "+aA;x(aA)});aa.on("click","div.aa-gp",function(){var aB=f(this);var aA=encodeURI(aB.data("url"));aA="https://plus.google.com/share?url="+aA;x(aA)});aa.on("click","div.aa-pi",function(){var aB=f(this);var aA=encodeURI(aB.data("url"));aA="http://pinterest.com/pin/create/button/?url="+aA+"&media="+aA;x(aA)});var aq=false;u.on("click","div.aamrgbox",function(){aq=true;var aC=f(this);if(aC.hasClass("autoAlbumsFolder")){return}var aB=aC.data("url");if(aB!=g){e.location.href="http://"+aB;return}if(J.lightBox==false){return}ae=false;q=u.find(".aamrgbox").index(this);var aA=aC.children("img");aa.animate({"margin-top":0},J.lightBoxSpeedFx);U.fadeIn(J.lightBoxSpeedFx);L(aA,true)});U.on("click","div",function(aA){aA.stopPropagation()});U.on("click","img",function(aA){aA.stopPropagation()});U.on("click",".lightbox-alignment",function(){ak()});U.on("click",".lightbox-alignment2",function(){ak()});U.on("click",function(){ak()});ad.on("click",function(){ak()});var ak=function(){if(J.lightBoxStopPlayOnClose){C.removeClass("selected");az=false}aq=false;ae=true;P();aw();U.find(".lb-loader").remove();var aB=0;if(J.lightBoxZoomAnim==false){aB=1}var aA=U.find("img").stop().show();aa.animate({"margin-top":-aa.outerHeight()},J.lightBoxSpeedFx);if(aA[0]!=g){aA.animate({scale:aB},J.lightBoxSpeedFx,function(){U.fadeOut(100)})}else{U.fadeOut(100)}};var o=function(){ae=false;var aD=u.find(".aamrgbox");q+=1;if(q>=aD.length){q=0}if(!aD.eq(q).is(":visible")||aD.eq(q).hasClass("autoAlbumsFolder")){var aA=q;for(var aC=0;aC<aD.length;aC++){aA++;if(aA>=aD.length){aA=0}var aE=aD.eq(aA);if(aE.is(":visible")&&aE.hasClass("autoAlbumsFolder")==false){q=aA;break}}}var aB=aD.eq(q).children("img");L(aB)};var V=function(){ae=false;var aD=u.find(".aamrgbox");q-=1;if(q<0){q=aD.length-1}if(!aD.eq(q).is(":visible")||aD.eq(q).hasClass("autoAlbumsFolder")){var aA=q;for(var aC=0;aC<aD.length;aC++){aA--;if(aA<0){aA=aD.length-1}var aE=aD.eq(aA);if(aE.is(":visible")&&aE.hasClass("autoAlbumsFolder")==false){q=aA;break}}}var aB=aD.eq(q).children("img");L(aB)};ao.on("click",function(){P();aw();o()});U.on("click","img",function(){P();aw();o()});H.on("click",function(){P();aw();V()});f(document).keyup(function(aA){if(!J.lightboxKeyboardNav){return}if(aA.keyCode=="37"){if(aq==false){return}P();aw();V()}if(aA.keyCode=="39"){if(aq==false){return}P();aw();o()}if(aA.keyCode==27){ak()}});if(J.swipeSupport){U.on("dragstart",function(aA){aA.preventDefault()});U.touchSwipeLeft(function(){P();aw();o()}).touchSwipeRight(function(){P();aw();V()})}if(J.lightBoxAutoPlay){C.addClass("selected");az=true}C.on("click",function(){A=f(this);if(A.hasClass("selected")){A.removeClass("selected");az=false;P();aw()}else{A.addClass("selected");az=true;S()}})};if(typeof j==="string"){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var k=f.data(this,"autoAlbums");if(!k){c("cannot call methods on autoAlbums prior to initialization; attempted to call method '"+j+"'");return}if(!f.isFunction(k[j])||j.charAt(0)==="_"){c("no such method '"+j+"' for autoAlbums instance");return}k[j].apply(k,i)})}else{this.each(function(){var k=f.data(this,"autoAlbums");if(k){k.option(j||{});k._init()}else{h(this);f.data(this,"autoAlbums",new f.AutoAlbumsMasonry(j,this))}})}return this};f.fn.autoAlbums.defaults={imagesOrder:"byName",albumsOrder:"none",folderCoverRandom:true,foldersAtTop:true,showNumFolder:true,showNumImages:true,autoHideNumFolder:true,autoHideNumImages:false,isFitWidth:true,lazyLoad:true,showNavBar:true,imagesToLoadStart:15,imagesToLoad:5,horizontalSpaceBetweenThumbnails:5,verticalSpaceBetweenThumbnails:5,columnWidth:"auto",columns:5,columnMinWidth:195,isAnimated:true,caption:true,captionType:"grid",lightBox:true,lightboxKeyboardNav:true,lightBoxSpeedFx:500,lightBoxZoomAnim:true,lightBoxText:true,lightboxPlayBtn:true,lightBoxAutoPlay:false,lightBoxPlayInterval:4000,lightBoxShowTimer:true,lightBoxStopPlayOnClose:false,hashTag:false,swipeSupport:false,hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1}}})(window,jQuery);
